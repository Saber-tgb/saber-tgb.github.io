<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>React面试知识点 | 汤国斌的博客</title>
    <meta name="description" content="Enjoy when you can, and endure when you must.">
    <link rel="icon" href="/favicon.ico">
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.6eed59b3.css" as="style"><link rel="preload" href="/assets/js/app.2bf8967c.js" as="script"><link rel="preload" href="/assets/js/6.6e49420d.js" as="script"><link rel="preload" href="/assets/js/1.d8d864d8.js" as="script"><link rel="preload" href="/assets/js/13.9a71aaee.js" as="script"><link rel="prefetch" href="/assets/js/10.cfca5438.js"><link rel="prefetch" href="/assets/js/11.c49db27d.js"><link rel="prefetch" href="/assets/js/12.00882826.js"><link rel="prefetch" href="/assets/js/14.ab89b187.js"><link rel="prefetch" href="/assets/js/15.757a77a2.js"><link rel="prefetch" href="/assets/js/4.1308181b.js"><link rel="prefetch" href="/assets/js/5.d0b019fa.js"><link rel="prefetch" href="/assets/js/7.d9733a94.js"><link rel="prefetch" href="/assets/js/8.5f0ac664.js"><link rel="prefetch" href="/assets/js/9.75eed29b.js"><link rel="prefetch" href="/assets/js/vendors~flowchart.bc9a8e4e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6eed59b3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div><div class="theme-container"><div><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/head.png" alt="汤国斌的博客" class="logo"> <span class="site-name">汤国斌的博客</span></a> <div class="links"><div class="color-picker"><a href="#" class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="theme-options"><!----> <div class="dark-theme-options toggle-option"><label for="dark-theme-toggle">Enable Dark Theme?</label> <input id="dark-theme-toggle" type="checkbox" checked="checked"></div></div></div></div> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/category/Flutter.html" class="nav-link"><i class="iconfont undefined"></i>
  Flutter
</a></li><li class="dropdown-item"><!----> <a href="/category/Vue.html" class="nav-link"><i class="iconfont undefined"></i>
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/category/React.html" class="nav-link"><i class="iconfont undefined"></i>
  React
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeLine/" class="nav-link"><i class="iconfont reco-date"></i>
  归档
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      联系
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/Saber-tgb" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://juejin.im/user/58cba614570c3500589701b2" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-blog"></i>
  掘金
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://twitter.com/Saber_tgb" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-twitter"></i>
  twitter
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.cnblogs.com/saber_tgb/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-bokeyuan"></i>
  博客圆
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.jianshu.com/u/faa7b39aff7f" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-jianshu"></i>
  简书
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.npmjs.com/~saber-tgb" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-npm"></i>
  NPM
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/category/Flutter.html" class="nav-link"><i class="iconfont undefined"></i>
  Flutter
</a></li><li class="dropdown-item"><!----> <a href="/category/Vue.html" class="nav-link"><i class="iconfont undefined"></i>
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/category/React.html" class="nav-link"><i class="iconfont undefined"></i>
  React
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeLine/" class="nav-link"><i class="iconfont reco-date"></i>
  归档
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      联系
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/Saber-tgb" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://juejin.im/user/58cba614570c3500589701b2" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-blog"></i>
  掘金
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://twitter.com/Saber_tgb" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-twitter"></i>
  twitter
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.cnblogs.com/saber_tgb/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-bokeyuan"></i>
  博客圆
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.jianshu.com/u/faa7b39aff7f" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-jianshu"></i>
  简书
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.npmjs.com/~saber-tgb" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-npm"></i>
  NPM
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>React面试知识点</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/views/react/2019/060501.html#什么是声明式编程" class="sidebar-link">什么是声明式编程</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/react/2019/060501.html#声明式编程-vs-命令式编程" class="sidebar-link">声明式编程 vs 命令式编程</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/react/2019/060501.html#什么是函数式编程" class="sidebar-link">什么是函数式编程</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/react/2019/060501.html#什么是-react" class="sidebar-link">什么是 React</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/react/2019/060501.html#react-与-angular-有何不同？" class="sidebar-link">React 与 Angular 有何不同？</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/react/2019/060501.html#什么是-virtual-dom-及其工作原理" class="sidebar-link">什么是 Virtual DOM 及其工作原理</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/react/2019/060501.html#什么是-jsx" class="sidebar-link">什么是 JSX</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/react/2019/060501.html#组件和不同类型" class="sidebar-link">组件和不同类型</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/react/2019/060501.html#props-和-state" class="sidebar-link">Props 和 State</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/react/2019/060501.html#什么是-proptypes" class="sidebar-link">什么是 PropTypes</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/react/2019/060501.html#如何更新状态以及如何不更新" class="sidebar-link">如何更新状态以及如何不更新</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/react/2019/060501.html#组件生命周期方法" class="sidebar-link">组件生命周期方法</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/react/2019/060501.html#超越继承的组合" class="sidebar-link">超越继承的组合</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/react/2019/060501.html#如何在-react-中应用样式" class="sidebar-link">如何在 React 中应用样式</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/react/2019/060501.html#什么是-redux-及其工作原理" class="sidebar-link">什么是 Redux 及其工作原理</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/react/2019/060501.html#什么是-react-router-dom-及其工作原理" class="sidebar-link">什么是 React Router Dom 及其工作原理</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/react/2019/060501.html#什么是错误边界" class="sidebar-link">什么是错误边界</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/react/2019/060501.html#什么是-fragments" class="sidebar-link">什么是 Fragments</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/react/2019/060501.html#什么是传送门-portals" class="sidebar-link">什么是传送门(Portals)</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/react/2019/060501.html#什么是上下文" class="sidebar-link">什么是上下文</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/react/2019/060501.html#什么是-hooks" class="sidebar-link">什么是 Hooks</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/react/2019/060501.html#如何提高性能" class="sidebar-link">如何提高性能</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/react/2019/060501.html#如何在重新加载页面时保留数据" class="sidebar-link">如何在重新加载页面时保留数据</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/react/2019/060501.html#如何在-react-进行-api-调用" class="sidebar-link">如何在 React 进行 API 调用</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/react/2019/060501.html#总结" class="sidebar-link">总结</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <div><main class="page reco-hide"> <div class="page-title"><h1>React面试知识点</h1> <hr> <div data-v-0b496ca7><i class="iconfont reco-account" data-v-0b496ca7><span data-v-0b496ca7>saber_tgb</span></i> <i class="iconfont reco-date" data-v-0b496ca7><span data-v-0b496ca7>2019-6-5</span></i> <!----> <i class="iconfont reco-tag tags" data-v-0b496ca7><span class="tag-item" data-v-0b496ca7>
      React
    </span></i></div></div> <div class="content__default"><p>React 是流行的 javascript 框架之一，在 2019 年及以后将会更加流行。React 于 2013 年首次发布，多年来广受欢迎。它是一个声明性的、基于组件的、用于构建用户界面的高效 javascript 库。</p> <p>以下是面试前必须了解的话题。</p> <ul><li><strong>什么是声明式编程</strong></li> <li><strong>声明式编程 vs 命令式编程</strong></li> <li><strong>什么是函数式编程</strong></li> <li><strong>什么是组件设计模式</strong></li> <li><strong>React 是什么</strong></li> <li><strong>React 和 Angular 有什么不同</strong></li> <li><strong>什么是虚拟 DOM 及其工作原理</strong></li> <li><strong>什么是 JSX</strong></li> <li><strong>组件和不同类型</strong></li> <li><strong>Props 和 State</strong></li> <li><strong>什么是 PropTypes</strong></li> <li><strong>如何更新状态和不更新状态</strong></li> <li><strong>组件生命周期方法</strong></li> <li><strong>超越继承的组合</strong></li> <li><strong>如何在 React 中应用样式</strong></li> <li><strong>什么是 Redux 及其工作原理</strong></li> <li><strong>什么是 React 路由器及其工作原理</strong></li> <li><strong>什么是错误边界</strong></li> <li><strong>什么是 Fragments</strong></li> <li><strong>什么是传送门(Portals)</strong></li> <li><strong>什么是 Context</strong></li> <li><strong>什么是 Hooks</strong></li> <li><strong>如何提高性能</strong></li> <li><strong>如何在重新加载页面时保留数据</strong></li> <li><strong>如何从 React 中调用 API</strong></li> <li><strong>总结</strong></li></ul> <h2 id="什么是声明式编程"><a href="#什么是声明式编程" aria-hidden="true" class="header-anchor">#</a> 什么是声明式编程</h2> <p>声明式编程是一种编程范式，它关注的是你<strong>要做什么</strong>，而不是<strong>如何做</strong>。它表达逻辑而不显式地定义步骤。这意味着我们需要根据逻辑的计算来声明要显示的组件。它没有描述控制流步骤。声明式编程的例子有 HTML、SQL 等</p> <p><strong>HTML file</strong></p> <div class="language-HTML line-numbers-mode"><pre class="language-html"><code>// HTML
&lt;div
   &lt;pDeclarative Programming&lt;/p&lt;/div

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>SQL file</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> studens <span class="token keyword">where</span> firstName <span class="token operator">=</span> <span class="token string">'declarative'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="声明式编程-vs-命令式编程"><a href="#声明式编程-vs-命令式编程" aria-hidden="true" class="header-anchor">#</a> 声明式编程 vs 命令式编程</h2> <p>声明式编程的编写方式描述了应该做什么，而命令式编程描述了如何做。在声明式编程中，让编译器决定如何做事情。声明性程序很容易推理，因为代码本身描述了它在做什么。</p> <p>下面是一个例子，数组中的每个元素都乘以 <code>2</code>，我们使用声明式<code>map</code>函数，让编译器来完成其余的工作，而使用命令式，需要编写所有的流程步骤。</p> <div class="language-javaScript line-numbers-mode"><pre class="language-javascript"><code> <span class="token keyword">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

 <span class="token comment">// 声明式</span>
 <span class="token keyword">const</span> doubleWithDec <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>number <span class="token operator">=</span> number <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>doubleWithDec<span class="token punctuation">)</span>

 <span class="token comment">// 命令式</span>
 <span class="token keyword">const</span> doubleWithImp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
 <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>numbers<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">const</span> numberdouble <span class="token operator">=</span> numbers<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
     doubleWithImp<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>numberdouble<span class="token punctuation">)</span>
 <span class="token punctuation">}</span>

 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>doubleWithImp<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="什么是函数式编程"><a href="#什么是函数式编程" aria-hidden="true" class="header-anchor">#</a> 什么是函数式编程</h2> <ul><li><p>函数式编程是声明式编程的一部分。javascript 中的函数是第一类公民，这意味着函数是数据，你可以像保存变量一样在应用程序中保存、检索和传递这些函数。
函数式编程有些核心的概念，如下：</p> <ul><li><strong>不可变性(Immutability)</strong></li> <li><strong>纯函数(Pure Functions)</strong></li> <li><strong>数据转换(Data Transformations)</strong></li> <li><strong>高阶函数 (Higher-Order Functions)</strong></li> <li><strong>递归</strong></li> <li><strong>组合</strong></li></ul></li></ul> <h4 id="不可变性-immutability"><a href="#不可变性-immutability" aria-hidden="true" class="header-anchor">#</a> 不可变性(Immutability)</h4> <p>不可变性意味着不可改变。 在函数式编程中，你无法更改数据，也不能更改。 如果要改变或更改数据，则必须复制数据副本来更改。</p> <p>例如，这是一个<strong>student</strong>对象和<code>changeName</code>函数，如果要更改学生的名称，则需要先复制　 student 　对象，然后返回新对象。</p> <p>在 javascript 中，函数参数是对实际数据的引用，你不应该使用　<strong>student.firstName =“testing11”</strong>，这会改变实际的<code>student</code> 对象，应该使用<strong>Object.assign</strong>复制对象并返回新对象。</p> <div class="language-javaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> student <span class="token operator">=</span> <span class="token punctuation">{</span>
     firstName<span class="token punctuation">:</span> <span class="token string">&quot;testing&quot;</span><span class="token punctuation">,</span>
     lastName<span class="token punctuation">:</span> <span class="token string">&quot;testing&quot;</span><span class="token punctuation">,</span>
     marks<span class="token punctuation">:</span> <span class="token number">500</span>
 <span class="token punctuation">}</span>

 <span class="token keyword">function</span> <span class="token function">changeName</span><span class="token punctuation">(</span><span class="token parameter">student</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token comment">// student.firstName = &quot;testing11&quot; //should not do it</span>
     <span class="token keyword">let</span> copiedStudent <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> student<span class="token punctuation">)</span><span class="token punctuation">;</span>
     copiedStudent<span class="token punctuation">.</span>firstName <span class="token operator">=</span> <span class="token string">&quot;testing11&quot;</span><span class="token punctuation">;</span>
     <span class="token keyword">return</span> copiedStudent<span class="token punctuation">;</span>
 <span class="token punctuation">}</span>

 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">changeName</span><span class="token punctuation">(</span>student<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>student<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h4 id="纯函数"><a href="#纯函数" aria-hidden="true" class="header-anchor">#</a> <strong>纯函数</strong></h4> <p>纯函数是始终接受一个或多个参数并计算参数并返回数据或函数的函数。 它没有副作用，例如设置全局状态，更改应用程序状态，它总是将参数视为不可变数据。</p> <p>我想使用 <strong>appendAddress</strong> 的函数向<code>student</code>对象添加一个地址。 如果使用非纯函数，它没有参数，直接更改 <code>student</code> 对象来更改全局状态。</p> <p>使用纯函数，它接受参数，基于参数计算，返回一个新对象而不修改参数。</p> <div class="language-javaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> student <span class="token operator">=</span> <span class="token punctuation">{</span>
    firstName<span class="token punctuation">:</span> <span class="token string">&quot;testing&quot;</span><span class="token punctuation">,</span>
    lastName<span class="token punctuation">:</span> <span class="token string">&quot;testing&quot;</span><span class="token punctuation">,</span>
    marks<span class="token punctuation">:</span> <span class="token number">500</span>
<span class="token punctuation">}</span>

<span class="token comment">// 非纯函数</span>
<span class="token keyword">function</span> <span class="token function">appendAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    student<span class="token punctuation">.</span>address <span class="token operator">=</span> <span class="token punctuation">{</span>streetNumber<span class="token punctuation">:</span><span class="token string">&quot;0000&quot;</span><span class="token punctuation">,</span> streetName<span class="token punctuation">:</span> <span class="token string">&quot;first&quot;</span><span class="token punctuation">,</span> city<span class="token punctuation">:</span><span class="token string">&quot;somecity&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">appendAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 纯函数</span>
<span class="token keyword">function</span> <span class="token function">appendAddress</span><span class="token punctuation">(</span><span class="token parameter">student</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> copystudent <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> student<span class="token punctuation">)</span><span class="token punctuation">;</span>
    copystudent<span class="token punctuation">.</span>address <span class="token operator">=</span> <span class="token punctuation">{</span>streetNumber<span class="token punctuation">:</span><span class="token string">&quot;0000&quot;</span><span class="token punctuation">,</span> streetName<span class="token punctuation">:</span> <span class="token string">&quot;first&quot;</span><span class="token punctuation">,</span> city<span class="token punctuation">:</span><span class="token string">&quot;somecity&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> copystudent<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">appendAddress</span><span class="token punctuation">(</span>student<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>student<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h4 id="数据转换"><a href="#数据转换" aria-hidden="true" class="header-anchor">#</a> <strong>数据转换</strong></h4> <p>我们讲了很多关于不可变性的内容，如果数据是不可变的，我们如何改变数据。如上所述，我们总是生成原始数据的转换副本，而不是直接更改原始数据。</p> <p>再介绍一些 javascript 内置函数，当然还有很多其他的函数，这里有一些例子。所有这些函数都不改变现有的数据，而是返回新的数组或对象。</p> <div class="language-javaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> cities <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;irving&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;lowell&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;houston&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// we can get the comma separated list</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cities<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// irving,lowell,houston</span>

<span class="token comment">// if we want to get cities start with i</span>
<span class="token keyword">const</span> citiesI <span class="token operator">=</span> cities<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>city <span class="token operator">=</span> city<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">&quot;i&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>citiesI<span class="token punctuation">)</span>
<span class="token comment">// [ 'irving' ]</span>

<span class="token comment">// if we want to capitalize all the cities</span>
<span class="token keyword">const</span> citiesC <span class="token operator">=</span> cities<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>city <span class="token operator">=</span> city<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>citiesC<span class="token punctuation">)</span>
<span class="token comment">// [ 'IRVING', 'LOWELL', 'HOUSTON' ]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h4 id="高阶函数"><a href="#高阶函数" aria-hidden="true" class="header-anchor">#</a> <strong>高阶函数</strong></h4> <p>高阶函数是将函数作为参数或返回函数的函数，或者有时它们都有。 这些高阶函数可以操纵其他函数。</p> <p><code>Array.map，Array.filter和Array.reduce</code>是高阶函数，因为它们将函数作为参数。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>const numbers = [10,20,40,50,60,70,80]

const out1 = numbers.map(num = num * 100);
console.log(out1);
// [ 1000, 2000, 4000, 5000, 6000, 7000, 8000 ]

const out2 = numbers.filter(num = num  50);
console.log(out2);
// [ 60, 70, 80 ]

const out3 = numbers.reduce((out,num) = out + num);
console.log(out3);
// 330
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>下面是另一个名为<code>isPersonOld</code>的高阶函数示例，该函数接受另外两个函数，分别是 <code>message</code>和<code>isYoung</code> 。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>const isYoung = age = age &lt; 25;

const message = msg = &quot;He is &quot;+ msg;

function isPersonOld(age, isYoung, message) {
    const returnMessage = isYoung(age)?message(&quot;young&quot;):message(&quot;old&quot;);
    return returnMessage;
}

// passing functions as an arguments
console.log(isPersonOld(13,isYoung,message))
// He is young
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="递归"><a href="#递归" aria-hidden="true" class="header-anchor">#</a> <strong>递归</strong></h4> <p>递归是一种函数在满足一定条件之前调用自身的技术。只要可能，最好使用递归而不是循环。你必须注意这一点，浏览器不能处理太多递归和抛出错误。</p> <p>下面是一个演示递归的例子，在这个递归中，打印一个类似于楼梯的名称。我们也可以使用<code>for</code>循环，但只要可能，我们更喜欢递归。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>function printMyName(name, count) {
    if(count &lt;= name.length) {
        console.log(name.substring(0,count));
        printMyName(name, ++count);
    }
}

console.log(printMyName(&quot;Bhargav&quot;, 1));

/*
B
Bh
Bha
Bhar
Bharg
Bharga
Bhargav
*/

// withotu recursion
var name = &quot;Bhargav&quot;
var output = &quot;&quot;;
for(let i=0; i&lt;name.length; i++) {
    output = output + name[i];
    console.log(output);
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h4 id="组合"><a href="#组合" aria-hidden="true" class="header-anchor">#</a> <strong>组合</strong></h4> <p>在 React 中，我们将功能划分为小型可重用的纯函数，我们必须将所有这些可重用的函数放在一起，最终使其成为产品。 将所有较小的函数组合成更大的函数，最终，得到一个应用程序，这称为<strong>组合</strong>。</p> <p>实现组合有许多不同方法。 我们从 Javascript 中了解到的一种常见方法是链接。 链接是一种使用<strong>点</strong>表示法调用前一个函数的返回值的函数的方法。</p> <p>这是一个例子。 我们有一个<code>name</code>，如果<code>firstName</code>和<code>lastName</code>大于 5 个单词的大写字母，刚返回，并且打印名称的名称和长度。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>const name = &quot;Bhargav Bachina&quot;;

const output = name.split(&quot; &quot;)
    .filter(name = name.length  5)
    .map(val = {
    val = val.toUpperCase();
    console.log(&quot;Name:::::&quot;+val);
    console.log(&quot;Count::::&quot;+val.length);
    return val;
});

console.log(output)
/*
Name:::::BHARGAV
Count::::7
Name:::::BACHINA
Count::::7
[ 'BHARGAV', 'BACHINA' ]
*/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>在 React 中，我们使用了不同于链接的方法，因为如果有 30 个这样的函数，就很难进行链接。这里的目的是将所有更简单的函数组合起来生成一个更高阶的函数。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>const name = compose(
    splitmyName,
    countEachName,
    comvertUpperCase,
    returnName
)

console.log(name);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="什么是-react"><a href="#什么是-react" aria-hidden="true" class="header-anchor">#</a> 什么是 React</h2> <p>React 是一个简单的 javascript UI 库，用于构建高效、快速的用户界面。它是一个轻量级库，因此很受欢迎。它遵循组件设计模式、声明式编程范式和函数式编程概念，以使前端应用程序更高效。它使用虚拟 DOM 来有效地操作 DOM。它遵循从高阶组件到低阶组件的单向数据流。</p> <h2 id="react-与-angular-有何不同？"><a href="#react-与-angular-有何不同？" aria-hidden="true" class="header-anchor">#</a> React 与 Angular 有何不同？</h2> <p>Angular 是一个成熟的 MVC 框架，带有很多特定的特性，比如服务、指令、模板、模块、解析器等等。React 是一个非常轻量级的库，它只关注 MVC 的视图部分。</p> <p>Angular 遵循两个方向的数据流，而 React 遵循从上到下的单向数据流。React 在开发特性时给了开发人员很大的自由，例如，调用 API 的方式、路由等等。我们不需要包括路由器库，除非我们需要它在我们的项目。</p> <h2 id="什么是-virtual-dom-及其工作原理"><a href="#什么是-virtual-dom-及其工作原理" aria-hidden="true" class="header-anchor">#</a> 什么是 Virtual DOM 及其工作原理</h2> <p>React 使用 Virtual DOM 来更新真正的 DOM，从而提高效率和速度。 我们来详细讨论这些。</p> <h4 id="什么是-virtual-dom"><a href="#什么是-virtual-dom" aria-hidden="true" class="header-anchor">#</a> <strong>什么是 Virtual DOM</strong></h4> <p>浏览器遵循 HTML 指令来构造文档对象模型(DOM)。当浏览器加载 HTML 并呈现用户界面时，HTML 文档中的所有元素都变成 DOM 元素。</p> <p>DOM 是从根元素开始的元素层次结构。例如，看看下面的 HTML。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;div
    &lt;div
        &lt;h1This is heading&lt;/h1
        &lt;pthis is paragraph&lt;/p
        &lt;div
            &lt;pThis is just a paragraon&lt;/p
        &lt;/div
    &lt;/div
    &lt;div
        &lt;h1This is heading&lt;/h1
        &lt;pthis is paragraph&lt;/p
        &lt;div
            &lt;pThis is just a paragraon&lt;/p
        &lt;/div
    &lt;/div
    &lt;div
        &lt;h1This is heading&lt;/h1
        &lt;pthis is paragraph&lt;/p
        &lt;div
            &lt;pThis is just a paragraon&lt;/p
        &lt;/div
    &lt;/div
&lt;/div
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>当在浏览器中加载这个 HTML 时，所有这些 HTML 元素都被转换成 DOM 元素，如下所示</p> <p><img src="https://user-gold-cdn.xitu.io/2019/5/31/16b0cf1e58cd572e?w=720&amp;h=462&amp;f=png&amp;s=104435" alt=""></p> <p>当涉及到 SPA 应用程序时，首次加载<strong>index.html</strong>，并在<strong>index.html</strong>本身中加载更新后的数据或另一个 html。当用户浏览站点时，我们使用新内容更新相同的 index.html。每当 DOM 发生更改时，浏览器都需要重新计算 CSS、进行布局并重新绘制 web 页面。</p> <p>React 使用 Virtual DOM 有效地重建 DOM。 对于我们来说，这使得 DOM 操作的一项非常复杂和耗时的任务变得更加容易。 React 从开发人员那里抽象出所有这些，以便在 Virtual DOM 的帮助下构建高效的 UI。</p> <h4 id="虚拟-dom-是如何工作的"><a href="#虚拟-dom-是如何工作的" aria-hidden="true" class="header-anchor">#</a> <strong>虚拟 DOM 是如何工作的</strong></h4> <p>虚拟 DOM 只不过是真实 DOM 的 javascript 对象表示。 与更新真实 DOM 相比，更新 javascript 对象更容易，更快捷。 考虑到这一点，让我们看看它是如何工作的。</p> <p>React 将整个 DOM 副本保存为虚拟 DOM</p> <p><img src="https://user-gold-cdn.xitu.io/2019/5/31/16b0cf1e588d8a0a?w=720&amp;h=469&amp;f=png&amp;s=74669" alt=""></p> <p>每当有更新时，它都会维护两个虚拟 DOM，以比较之前的状态和当前状态，并确定哪些对象已被更改。 例如，段落文本更改为更改。</p> <p><img src="https://user-gold-cdn.xitu.io/2019/5/31/16b0cf1e591f3564?w=720&amp;h=382&amp;f=png&amp;s=84500" alt=""></p> <p>现在，它通过比较两个虚拟 DOM 差异，并将这些变化更新到实际 DOM</p> <p><img src="https://user-gold-cdn.xitu.io/2019/5/31/16b0cf1e5c2152c9?w=720&amp;h=436&amp;f=png&amp;s=69171" alt=""></p> <p>一旦真正的 DOM 更新，它也会更新 UI</p> <p><img src="https://user-gold-cdn.xitu.io/2019/5/31/16b0cf1e5902b540?w=720&amp;h=430&amp;f=png&amp;s=68684" alt=""></p> <h2 id="什么是-jsx"><a href="#什么是-jsx" aria-hidden="true" class="header-anchor">#</a> 什么是 JSX</h2> <p>JSX 是 javascript 的语法扩展。它就像一个拥有 javascript 全部功能的模板语言。它生成 React 元素，这些元素将在 DOM 中呈现。React 建议在组件使用 JSX。在 JSX 中，我们结合了 javascript 和 HTML，并生成了可以在 DOM 中呈现的 react 元素。</p> <p>下面是 JSX 的一个例子。我们可以看到如何将 javascript 和 HTML 结合起来。如果 HTML 中包含任何动态变量，我们应该使用表达式<code>{}</code>。</p> <div class="language-javaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> Header <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{</span>

    <span class="token keyword">const</span> heading <span class="token operator">=</span> <span class="token string">'TODO App'</span>

    <span class="token keyword">return</span><span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>backgroundColor<span class="token punctuation">:</span><span class="token string">'orange'</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
            <span class="token operator">&lt;</span>h1<span class="token punctuation">{</span>heading<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1
        <span class="token operator">&lt;</span><span class="token operator">/</span>div
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="组件和不同类型"><a href="#组件和不同类型" aria-hidden="true" class="header-anchor">#</a> 组件和不同类型</h2> <p>React 中一切都是组件。 我们通常将应用程序的整个逻辑分解为小的单个部分。 我们将每个单独的部分称为组件。 通常，组件是一个 javascript 函数，它接受输入，处理它并返回在 UI 中呈现的 React 元素。</p> <p>在 React 中有不同类型的组件。让我们详细看看。</p> <h4 id="函数-无状态-展示组件"><a href="#函数-无状态-展示组件" aria-hidden="true" class="header-anchor">#</a> <strong>函数/无状态/展示组件</strong></h4> <p>函数或无状态组件是一个纯函数，它可接受接受参数，并返回 react 元素。这些都是没有任何副作用的纯函数。这些组件没有状态或生命周期方法，这里有一个例子。</p> <div class="language-javaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Jumbotron <span class="token keyword">from</span> <span class="token string">'react-bootstrap/Jumbotron'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> Header <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span><span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>Jumbotron style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>backgroundColor<span class="token punctuation">:</span><span class="token string">'orange'</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
            <span class="token operator">&lt;</span>h1TODO App<span class="token operator">&lt;</span><span class="token operator">/</span>h1
        <span class="token operator">&lt;</span><span class="token operator">/</span>Jumbotron
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="类-有状态组件"><a href="#类-有状态组件" aria-hidden="true" class="header-anchor">#</a> <strong>类/有状态组件</strong></h4> <p>类或有状态组件具有状态和生命周期方可能通过<code>setState()</code>方法更改组件的状态。类组件是通过扩展 React 创建的。它在构造函数中初始化，也可能有子组件,这里有一个例子。</p> <div class="language-javaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'../App.css'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ToDoForm <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./todoform'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ToDolist <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./todolist'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Dashboard</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;dashboard&quot;</span>
          <span class="token operator">&lt;</span>ToDoForm <span class="token operator">/</span>
          <span class="token operator">&lt;</span>ToDolist <span class="token operator">/</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h4 id="受控组件"><a href="#受控组件" aria-hidden="true" class="header-anchor">#</a> <strong>受控组件</strong></h4> <p>受控组件是在 React 中处理输入表单的一种技术。表单元素通常维护它们自己的状态，而 react 则在组件的状态属性中维护状态。我们可以将两者结合起来控制输入表单。这称为受控组件。因此，在受控组件表单中，数据由 React 组件处理。</p> <p>这里有一个例子。当用户在 todo 项中输入名称时，调用一个 javascript 函数<code>handleChange</code>捕捉每个输入的数据并将其放入状态，这样就在 <code>handleSubmit</code>中的使用数据。</p> <div class="language-javaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Form <span class="token keyword">from</span> <span class="token string">'react-bootstrap/Form'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Button <span class="token keyword">from</span> <span class="token string">'react-bootstrap/Button'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Row <span class="token keyword">from</span> <span class="token string">'react-bootstrap/Row'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Col <span class="token keyword">from</span> <span class="token string">'react-bootstrap/Col'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ToDoForm</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>value<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

      <span class="token keyword">this</span><span class="token punctuation">.</span>handleChange <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleChange</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>handleSubmit <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleSubmit</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">handleChange</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>value<span class="token punctuation">:</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">handleSubmit</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'A name was submitted: '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
      event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;todoform&quot;</span>
            <span class="token operator">&lt;</span>Form
                <span class="token operator">&lt;</span>Form<span class="token punctuation">.</span>Group <span class="token keyword">as</span><span class="token operator">=</span><span class="token punctuation">{</span>Row<span class="token punctuation">}</span> controlId<span class="token operator">=</span><span class="token string">&quot;formHorizontalEmail&quot;</span>
                    <span class="token operator">&lt;</span>Form<span class="token punctuation">.</span>Label column sm<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span>
                    <span class="token operator">&lt;</span>span className<span class="token operator">=</span><span class="token string">&quot;item&quot;</span>Item<span class="token operator">&lt;</span><span class="token operator">/</span>span
                    <span class="token operator">&lt;</span><span class="token operator">/</span>Form<span class="token punctuation">.</span>Label
                    <span class="token operator">&lt;</span>Col sm<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">5</span><span class="token punctuation">}</span>
                        <span class="token operator">&lt;</span>Form<span class="token punctuation">.</span>Control type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> placeholder<span class="token operator">=</span><span class="token string">&quot;Todo Item&quot;</span> <span class="token operator">/</span>
                    <span class="token operator">&lt;</span><span class="token operator">/</span>Col
                    <span class="token operator">&lt;</span>Col sm<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">5</span><span class="token punctuation">}</span>
                        <span class="token operator">&lt;</span>Button variant<span class="token operator">=</span><span class="token string">&quot;primary&quot;</span> type<span class="token operator">=</span><span class="token string">&quot;submit&quot;</span>Add<span class="token operator">&lt;</span><span class="token operator">/</span>Button
                    <span class="token operator">&lt;</span><span class="token operator">/</span>Col
                <span class="token operator">&lt;</span><span class="token operator">/</span>Form<span class="token punctuation">.</span>Group
            <span class="token operator">&lt;</span><span class="token operator">/</span>Form
         <span class="token operator">&lt;</span><span class="token operator">/</span>div
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div><h4 id="非受控组件"><a href="#非受控组件" aria-hidden="true" class="header-anchor">#</a> <strong>非受控组件</strong></h4> <p>大多数情况下，建议使用受控组件。有一种称为非受控组件的方法可以通过使用<code>Ref</code>来处理表单数据。在非受控组件中，<code>Ref</code>用于直接从<code>DOM</code>访问表单值，而不是事件处理程序。</p> <p>我们使用<code>Ref</code>构建了相同的表单，而不是使用 React 状态。 我们使用<code>React.createRef()</code> 定义<code>Ref</code>并传递该输入表单并直接从<code>handleSubmit</code>方法中的<code>DOM</code>访问表单值。</p> <div class="language-javaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Form <span class="token keyword">from</span> <span class="token string">'react-bootstrap/Form'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Button <span class="token keyword">from</span> <span class="token string">'react-bootstrap/Button'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Row <span class="token keyword">from</span> <span class="token string">'react-bootstrap/Row'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Col <span class="token keyword">from</span> <span class="token string">'react-bootstrap/Col'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ToDoForm</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>value<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>input <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">this</span><span class="token punctuation">.</span>handleSubmit <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleSubmit</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">handleSubmit</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'A name was submitted: '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>input<span class="token punctuation">.</span>current<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
      event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;todoform&quot;</span>
            <span class="token operator">&lt;</span>Form
                <span class="token operator">&lt;</span>Form<span class="token punctuation">.</span>Group <span class="token keyword">as</span><span class="token operator">=</span><span class="token punctuation">{</span>Row<span class="token punctuation">}</span> controlId<span class="token operator">=</span><span class="token string">&quot;formHorizontalEmail&quot;</span>
                    <span class="token operator">&lt;</span>Form<span class="token punctuation">.</span>Label column sm<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span>
                    <span class="token operator">&lt;</span>span className<span class="token operator">=</span><span class="token string">&quot;item&quot;</span>Item<span class="token operator">&lt;</span><span class="token operator">/</span>span
                    <span class="token operator">&lt;</span><span class="token operator">/</span>Form<span class="token punctuation">.</span>Label
                    <span class="token operator">&lt;</span>Col sm<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">5</span><span class="token punctuation">}</span>
                        <span class="token operator">&lt;</span>Form<span class="token punctuation">.</span>Control type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> placeholder<span class="token operator">=</span><span class="token string">&quot;Todo Item&quot;</span> ref<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>input<span class="token punctuation">}</span><span class="token operator">/</span>
                    <span class="token operator">&lt;</span><span class="token operator">/</span>Col
                    <span class="token operator">&lt;</span>Col sm<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">5</span><span class="token punctuation">}</span>
                        <span class="token operator">&lt;</span>Button variant<span class="token operator">=</span><span class="token string">&quot;primary&quot;</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleSubmit<span class="token punctuation">}</span> type<span class="token operator">=</span><span class="token string">&quot;submit&quot;</span>Add<span class="token operator">&lt;</span><span class="token operator">/</span>Button
                    <span class="token operator">&lt;</span><span class="token operator">/</span>Col
                <span class="token operator">&lt;</span><span class="token operator">/</span>Form<span class="token punctuation">.</span>Group
            <span class="token operator">&lt;</span><span class="token operator">/</span>Form
         <span class="token operator">&lt;</span><span class="token operator">/</span>div
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><h4 id="容器组件"><a href="#容器组件" aria-hidden="true" class="header-anchor">#</a> <strong>容器组件</strong></h4> <p>容器组件是处理获取数据、订阅 redux 存储等的组件。它们包含展示组件和其他容器组件，但是里面从来没有 html。</p> <h4 id="高阶组件"><a href="#高阶组件" aria-hidden="true" class="header-anchor">#</a> <strong>高阶组件</strong></h4> <p>高阶组件是将组件作为参数并生成另一个组件的组件。 Redux <code>connect</code>是高阶组件的示例。 这是一种用于生成可重用组件的强大技术。</p> <h2 id="props-和-state"><a href="#props-和-state" aria-hidden="true" class="header-anchor">#</a> Props 和 State</h2> <p><strong>Props</strong> 是只读属性，传递给组件以呈现 UI 和状态，我们可以随时间更改组件的输出。</p> <p>下面是一个类组件的示例，它在构造函数中定义了<code>props</code>和<code>state</code>，每当使用<code>this.setState()</code> 修改状态时，将再次调用 <code>render( )</code> 函数来更改 UI 中组件的输出。</p> <div class="language-javaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'../App.css'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Dashboard</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">&quot;some name&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment">// reading state</span>
    <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>name<span class="token punctuation">;</span>

    <span class="token comment">//reading props</span>
    <span class="token keyword">const</span> address <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>address<span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;dashboard&quot;</span>
          <span class="token punctuation">{</span>name<span class="token punctuation">}</span>
          <span class="token punctuation">{</span>address<span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h2 id="什么是-proptypes"><a href="#什么是-proptypes" aria-hidden="true" class="header-anchor">#</a> 什么是 PropTypes</h2> <p>随着时间的推移，应用程序会变得越来越大，因此类型检查非常重要。<code>PropTypes</code>为组件提供类型检查，并为其他开发人员提供很好的文档。如果 react 项目不使用 Typescript，建议为组件添加 <code>PropTypes</code>。</p> <p>如果组件没有收到任何 props，我们还可以为每个组件定义要显示的默认 props。这里有一个例子。<code>UserDisplay</code>有三个 prop:<code>name</code>、<code>address</code>和<code>age</code>，我们正在为它们定义默认的 props 和 prop 类型。</p> <div class="language-javaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> PropTypes <span class="token keyword">from</span> <span class="token string">'prop-types'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> UserDisplay <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token punctuation">,</span> address<span class="token punctuation">,</span> age<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{</span>

    UserDisplay<span class="token punctuation">.</span>defaultProps <span class="token operator">=</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">'myname'</span><span class="token punctuation">,</span>
        age<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
        address<span class="token punctuation">:</span> <span class="token string">&quot;0000 onestreet&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>
            <span class="token operator">&lt;</span>div
                <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;label&quot;</span>Name<span class="token punctuation">:</span><span class="token operator">&lt;</span><span class="token operator">/</span>div
                <span class="token operator">&lt;</span>div<span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div
            <span class="token operator">&lt;</span><span class="token operator">/</span>div
            <span class="token operator">&lt;</span>div
                <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;label&quot;</span>Address<span class="token punctuation">:</span><span class="token operator">&lt;</span><span class="token operator">/</span>div
                <span class="token operator">&lt;</span>div<span class="token punctuation">{</span>address<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div
            <span class="token operator">&lt;</span><span class="token operator">/</span>div
            <span class="token operator">&lt;</span>div
                <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;label&quot;</span>Age<span class="token punctuation">:</span><span class="token operator">&lt;</span><span class="token operator">/</span>div
                <span class="token operator">&lt;</span>div<span class="token punctuation">{</span>age<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div
            <span class="token operator">&lt;</span><span class="token operator">/</span>div
        <span class="token operator">&lt;</span><span class="token operator">/</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

UserDisplay<span class="token punctuation">.</span>propTypes <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>string<span class="token punctuation">.</span>isRequired<span class="token punctuation">,</span>
    address<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span><span class="token function">objectOf</span><span class="token punctuation">(</span>PropTypes<span class="token punctuation">.</span>string<span class="token punctuation">)</span><span class="token punctuation">,</span>
    age<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>number<span class="token punctuation">.</span>isRequired
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><h2 id="如何更新状态以及如何不更新"><a href="#如何更新状态以及如何不更新" aria-hidden="true" class="header-anchor">#</a> 如何更新状态以及如何不更新</h2> <p>你不应该直接修改状态。可以在构造函数中定义状态值。直接使用状态不会触发重新渲染。React 使用<code>this.setState()</code>时合并状态。</p> <div class="language-javaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//  错误方式</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;some name&quot;</span>
<span class="token comment">//  正确方式</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">&quot;some name&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>使用<code>this.setState()</code>的第二种形式总是更安全的，因为更新的 props 和状态是异步的。这里，我们根据这些 props 更新状态。</p> <div class="language-javaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 错误方式</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    timesVisited<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>timesVisited <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>count
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 正确方式</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> props<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    timesVisited<span class="token punctuation">:</span> state<span class="token punctuation">.</span>timesVisited <span class="token operator">+</span> props<span class="token punctuation">.</span>count
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="组件生命周期方法"><a href="#组件生命周期方法" aria-hidden="true" class="header-anchor">#</a> 组件生命周期方法</h2> <p>组件在进入和离开 DOM 时要经历一系列生命周期方法，下面是这些生命周期方法。</p> <h4 id="componentwillmount"><a href="#componentwillmount" aria-hidden="true" class="header-anchor">#</a> <strong>componentWillMount()</strong></h4> <p>在渲染前调用,在客户端也在服务端，它只发生一次。</p> <h4 id="componentdidmount"><a href="#componentdidmount" aria-hidden="true" class="header-anchor">#</a> <strong>componentDidMount()</strong></h4> <p>在第一次渲染后调用，只在客户端。之后组件已经生成了对应的 DOM 结构，可以通过<code>this.getDOMNode()</code>来进行访问。 如果你想和其他 JavaScript 框架一起使用，可以在这个方法中调用<code>setTimeout</code>, <code>setInterval</code>或者发送 AJAX 请求等操作(防止异部操作阻塞 UI)。</p> <h4 id="componentwillreceiveprops"><a href="#componentwillreceiveprops" aria-hidden="true" class="header-anchor">#</a> componentWillReceiveProps()</h4> <p>在组件接收到一个新的 prop (更新后)时被调用。这个方法在初始化 render 时不会被调用。</p> <h4 id="shouldcomponentupdate"><a href="#shouldcomponentupdate" aria-hidden="true" class="header-anchor">#</a> <strong>shouldComponentUpdate()</strong></h4> <p>返回一个布尔值。在组件接收到新的<code>props</code>或者<code>state</code>时被调用。在初始化时或者使用<code>forceUpdate</code>时不被调用。 可以在你确认不需要更新组件时使用。</p> <h4 id="componentwillupdate"><a href="#componentwillupdate" aria-hidden="true" class="header-anchor">#</a> <strong>componentWillUpdate()</strong></h4> <p>在组件接收到新的<code>props</code>或者<code>state</code>但还没有<code>render</code>时被调用。在初始化时不会被调用。</p> <h4 id="componentdidupdate"><a href="#componentdidupdate" aria-hidden="true" class="header-anchor">#</a> <strong>componentDidUpdate()</strong></h4> <p>在组件完成更新后立即调用。在初始化时不会被调用。</p> <h4 id="componentwillunmount"><a href="#componentwillunmount" aria-hidden="true" class="header-anchor">#</a> <strong>componentWillUnMount()</strong></h4> <p>件从 DOM 中移除的时候立刻被调用。</p> <h4 id="getderivedstatefromerror"><a href="#getderivedstatefromerror" aria-hidden="true" class="header-anchor">#</a> <strong>getDerivedStateFromError()</strong></h4> <p>这个生命周期方法在<strong>ErrorBoundary</strong>类中使用。实际上，如果使用这个生命周期方法，任何类都会变成<code>ErrorBoundary</code>。这用于在组件树中出现错误时呈现回退 UI，而不是在屏幕上显示一些奇怪的错误。</p> <h4 id="componentdidcatch"><a href="#componentdidcatch" aria-hidden="true" class="header-anchor">#</a> <strong>componentDidCatch()</strong></h4> <p>这个生命周期方法在 ErrorBoundary 类中使用。实际上，如果使用这个生命周期方法，任何类都会变成 ErrorBoundary。这用于在组件树中出现错误时记录错误。</p> <h2 id="超越继承的组合"><a href="#超越继承的组合" aria-hidden="true" class="header-anchor">#</a> 超越继承的组合</h2> <p>在 React 中，我们总是使用组合而不是继承。我们已经在函数式编程部分讨论了什么是组合。这是一种结合简单的可重用函数来生成高阶组件的技术。下面是一个组合的例子，我们在 dashboard 组件中使用两个小组件<code>todoForm</code>和<code>todoList</code>。</p> <div class="language-javaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'../App.css'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ToDoForm <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./todoform'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ToDolist <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./todolist'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Dashboard</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;dashboard&quot;</span>
          <span class="token operator">&lt;</span>ToDoForm <span class="token operator">/</span>
          <span class="token operator">&lt;</span>ToDolist <span class="token operator">/</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="如何在-react-中应用样式"><a href="#如何在-react-中应用样式" aria-hidden="true" class="header-anchor">#</a> 如何在 React 中应用样式</h2> <p>将样式应用于 React 组件有三种方法。</p> <h4 id="外部样式表"><a href="#外部样式表" aria-hidden="true" class="header-anchor">#</a> <strong>外部样式表</strong></h4> <p>在此方法中，你可以将外部样式表导入到组件使用类中。 但是你应该使用<code>className</code>而不是<code>class</code>来为 React 元素应用样式, 这里有一个例子。</p> <div class="language-javaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'./App.css'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Header <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./header/header'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Footer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./footer/footer'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Dashboard <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./dashboard/dashboard'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> UserDisplay <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./userdisplay'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;App&quot;</span>
      <span class="token operator">&lt;</span>Header <span class="token operator">/</span>
      <span class="token operator">&lt;</span>Dashboard <span class="token operator">/</span>
      <span class="token operator">&lt;</span>UserDisplay <span class="token operator">/</span>
      <span class="token operator">&lt;</span>Footer <span class="token operator">/</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h4 id="内联样式"><a href="#内联样式" aria-hidden="true" class="header-anchor">#</a> <strong>内联样式</strong></h4> <p>在这个方法中，我们可以直接将 <code>props</code> 传递给 HTML 元素，属性为<code>style</code>。这里有一个例子。这里需要注意的重要一点是，我们将 javascript 对象传递给 style，这就是为什么我们使用 <code>backgroundColor</code> 而不是 CSS 方法<code>backbackground -color</code>。</p> <div class="language-javaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> Header <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{</span>

    <span class="token keyword">const</span> heading <span class="token operator">=</span> <span class="token string">'TODO App'</span>

    <span class="token keyword">return</span><span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>backgroundColor<span class="token punctuation">:</span><span class="token string">'orange'</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
            <span class="token operator">&lt;</span>h1<span class="token punctuation">{</span>heading<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1
        <span class="token operator">&lt;</span><span class="token operator">/</span>div
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="定义样式对象并使用它"><a href="#定义样式对象并使用它" aria-hidden="true" class="header-anchor">#</a> <strong>定义样式对象并使用它</strong></h4> <p>因为我们将 javascript 对象传递给<code>style</code>属性，所以我们可以在组件中定义一个<code>style</code>对象并使用它。下面是一个示例，你也可以将此对象作为 <code>props</code> 传递到组件树中。</p> <div class="language-javaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> footerStyle <span class="token operator">=</span> <span class="token punctuation">{</span>
    width<span class="token punctuation">:</span> <span class="token string">'100%'</span><span class="token punctuation">,</span>
    backgroundColor<span class="token punctuation">:</span> <span class="token string">'green'</span><span class="token punctuation">,</span>
    padding<span class="token punctuation">:</span> <span class="token string">'50px'</span><span class="token punctuation">,</span>
    font<span class="token punctuation">:</span> <span class="token string">'30px'</span><span class="token punctuation">,</span>
    color<span class="token punctuation">:</span> <span class="token string">'white'</span><span class="token punctuation">,</span>
    fontWeight<span class="token punctuation">:</span> <span class="token string">'bold'</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> Footer <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span><span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token punctuation">{</span>footerStyle<span class="token punctuation">}</span>
            All Rights Reserved <span class="token number">2019</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="什么是-redux-及其工作原理"><a href="#什么是-redux-及其工作原理" aria-hidden="true" class="header-anchor">#</a> 什么是 Redux 及其工作原理</h2> <p>Redux 是 React 的一个状态管理库，它基于 flux。 Redux 简化了 React 中的单向数据流。 Redux 将状态管理完全从 React 中抽象出来。</p> <h4 id="它是如何工作的"><a href="#它是如何工作的" aria-hidden="true" class="header-anchor">#</a> <strong>它是如何工作的</strong></h4> <p>在 React 中，组件连接到 redux ，如果要访问 redux，需要派出一个包含 <code>id</code>和负载(payload) 的 <code>action</code>。action 中的 <code>payload</code> 是可选的，action 将其转发给 Reducer。</p> <p>当<code>reducer</code>收到<code>action</code>时，通过 <code>swithc...case</code> 语法比较 <code>action</code> 中<code>type</code>。 匹配时，更新对应的内容返回新的 <code>state</code>。</p> <p>当<code>Redux</code>状态更改时，连接到<code>Redux</code>的组件将接收新的状态作为<code>props</code>。当组件接收到这些<code>props</code>时，它将进入更新阶段并重新渲染 UI。</p> <p><img src="https://user-gold-cdn.xitu.io/2019/5/31/16b0cf1e59807748?w=720&amp;h=385&amp;f=png&amp;s=71782" alt=""></p> <h4 id="redux-循环细节"><a href="#redux-循环细节" aria-hidden="true" class="header-anchor">#</a> Redux 循环细节</h4> <p>让我们详细看看整个 redux 循环细节。</p> <p><img src="https://user-gold-cdn.xitu.io/2019/5/31/16b0cf1ec87407de?w=720&amp;h=431&amp;f=png&amp;s=102157" alt=""></p> <p><strong>Action</strong>: Action 只是一个简单的 json 对象，<strong>type</strong> 和有<strong>payload</strong>作为键。<strong>type</strong> 是必须要有的，<strong>payload</strong>是可选的。下面是一个 action 的例子。</p> <div class="language-javaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// action</span>

<span class="token punctuation">{</span>
  type<span class="token punctuation">:</span><span class="token string">&quot;SEND_EMAIL&quot;</span><span class="token punctuation">,</span>
  payload<span class="token punctuation">:</span> data
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>Action Creators</strong>：这些是创建<code>Actions</code>的函数，因此我们在派发<code>action</code>时不必在组件中手动编写每个 <code>action</code>。 以下是 action creator 的示例。</p> <div class="language-javaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// action creator</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">sendEamil</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> type<span class="token punctuation">:</span><span class="token string">&quot;SEND_EMAIL&quot;</span><span class="token punctuation">,</span> payload<span class="token punctuation">:</span> data<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>Reducers</strong>：Reducers 是纯函数，它将 <code>action</code>和当前 <code>state</code> 作为参数,计算必要的逻辑并返回一个新 r 的<code>state</code>。 这些 Reducers 没有任何副作用。 它不会改变 <code>state</code> 而是总是返回 <code>state</code> 。</p> <div class="language-javaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">emailReducer</span><span class="token punctuation">(</span><span class="token parameter">state <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> action</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

  <span class="token keyword">switch</span><span class="token punctuation">(</span>action<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> <span class="token string">&quot;SEND_EMAIL&quot;</span><span class="token punctuation">:</span>  <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> state<span class="token punctuation">,</span> <span class="token punctuation">{</span>
       email<span class="token punctuation">:</span> action<span class="token punctuation">.</span>payload
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token keyword">return</span> state<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="组件如何与-redux-进行连接"><a href="#组件如何与-redux-进行连接" aria-hidden="true" class="header-anchor">#</a> 组件如何与 <code>redux</code> 进行连接</h4> <p><strong>mapStateToProps</strong>：此函数将<code>state</code>映射到 <code>props</code> 上，因此只要<code>state</code>发生变化，新 state 会重新映射到 <code>props</code>。 这是订阅<code>store</code>的方式。</p> <p><strong>mapDispatchToProps</strong>：此函数用于将 <code>action creators</code> 绑定到你的<code>props</code> 。以便我们可以在第<code>12</code>行中使用 This . <code>props.actions.sendemail()</code>来派发一个动作。</p> <p><code>connect</code>和<code>bindActionCreators</code>来自 redux。 前者用于连接 store ，如第 22 行，后者用于将 action creators 绑定到你的 <code>props</code> ，如第 20 行。</p> <div class="language-javaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// import connect</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> connect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-redux'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> bindActionCreators <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'redux'</span>

<span class="token comment">// import action creators</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> userActions <span class="token keyword">from</span> <span class="token string">'../../../actions/userActions'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>

    <span class="token function">handleSubmit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// dispatch an action</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>actions<span class="token punctuation">.</span><span class="token function">sendEmail</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>email<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token comment">// you are mapping you state props</span>
<span class="token keyword">const</span> mapStateToProps <span class="token operator">=</span> <span class="token punctuation">(</span>state<span class="token punctuation">,</span> ownProps<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>user<span class="token punctuation">:</span> state<span class="token punctuation">.</span>user<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// you are binding your action creators to your props</span>
<span class="token keyword">const</span> mapDispatchToProps <span class="token operator">=</span> <span class="token punctuation">(</span>dispatch<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>actions<span class="token punctuation">:</span> <span class="token function">bindActionCreators</span><span class="token punctuation">(</span>userActions<span class="token punctuation">,</span> dispatch<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">connect</span><span class="token punctuation">(</span>mapStateToProps<span class="token punctuation">,</span> mapDispatchToProps<span class="token punctuation">)</span><span class="token punctuation">(</span>User<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h2 id="什么是-react-router-dom-及其工作原理"><a href="#什么是-react-router-dom-及其工作原理" aria-hidden="true" class="header-anchor">#</a> 什么是 React Router Dom 及其工作原理</h2> <p><code>react-router-dom</code>是应用程序中路由的库。 React 库中没有路由功能，需要单独安装<code>react-router-dom</code>。</p> <p>react-router-dom 提供两个路由器<code>BrowserRouter</code>和<code>HashRoauter</code>。前者基于 rul 的 pathname 段，后者基于 hash 段。</p> <div class="language-javaScript line-numbers-mode"><pre class="language-javascript"><code> 前者：http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">:</span><span class="token number">3000</span><span class="token operator">/</span>article<span class="token operator">/</span>num1

 后者：http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">:</span><span class="token number">3000</span><span class="token operator">/</span>#<span class="token operator">/</span>article<span class="token operator">/</span>num1（不一定是这样，但#是少不了的）
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="react-router-dom-组件"><a href="#react-router-dom-组件" aria-hidden="true" class="header-anchor">#</a> <strong>react-router-dom 组件</strong></h4> <ul><li><code>BrowserRouter</code> 和 <code>HashRouter</code> 是路由器。</li> <li><code>Route</code> 用于路由匹配。</li> <li><code>Link</code> 组件用于在应用程序中创建链接。 它将在 HTML 中渲染为锚标记。</li> <li><code>NavLink</code>是突出显示当前活动链接的特殊链接。</li> <li><code>Switch</code> 不是必需的，但在组合路由时很有用。</li> <li><code>Redirect</code> 用于强制路由重定向</li></ul> <p>下面是组件中的<code>Link</code>、<code>NavLink</code>和<code>Redirect</code> 的例子</p> <div class="language-javaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// normal link</span>
<span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token string">&quot;/gotoA&quot;</span>Home<span class="token operator">&lt;</span><span class="token operator">/</span>Link

<span class="token comment">// link which highlights currentlu active route with the given class name</span>
<span class="token operator">&lt;</span>NavLink to<span class="token operator">=</span><span class="token string">&quot;/gotoB&quot;</span> activeClassName<span class="token operator">=</span><span class="token string">&quot;active&quot;</span>
  React
<span class="token operator">&lt;</span><span class="token operator">/</span>NavLink

<span class="token comment">// you can redirect to this url</span>
<span class="token operator">&lt;</span>Redirect to<span class="token operator">=</span><span class="token string">&quot;/gotoC&quot;</span> <span class="token operator">/</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>以下是 react router 组件的示例。 如果你查看下面的示例，我们将匹配路径并使用<code>Switch</code>和<code>Route</code>呈现相应的组件。</p> <div class="language-javaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token comment">// import react router DOM elements</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Switch<span class="token punctuation">,</span> Route<span class="token punctuation">,</span> Redirect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span>
<span class="token keyword">import</span> ComponentA <span class="token keyword">from</span> <span class="token string">'../common/compa'</span>
<span class="token keyword">import</span> ComponentB <span class="token keyword">from</span> <span class="token string">'../common/compb'</span>
<span class="token keyword">import</span> ComponentC <span class="token keyword">from</span> <span class="token string">'../common/compc'</span>
<span class="token keyword">import</span> ComponentD <span class="token keyword">from</span> <span class="token string">'../common/compd'</span>
<span class="token keyword">import</span> ComponentE <span class="token keyword">from</span> <span class="token string">'../common/compe'</span>


<span class="token keyword">const</span> Layout <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> match <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span><span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;&quot;</span>
            <span class="token operator">&lt;</span>Switch
                <span class="token operator">&lt;</span>Route exact path<span class="token operator">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>match<span class="token punctuation">.</span>path<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/gotoA`</span></span><span class="token punctuation">}</span> component<span class="token operator">=</span><span class="token punctuation">{</span>ComponentA<span class="token punctuation">}</span> <span class="token operator">/</span>
                <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>match<span class="token punctuation">.</span>path<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/gotoB`</span></span><span class="token punctuation">}</span> component<span class="token operator">=</span><span class="token punctuation">{</span>ComponentB<span class="token punctuation">}</span> <span class="token operator">/</span>
                <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>match<span class="token punctuation">.</span>path<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/gotoC`</span></span><span class="token punctuation">}</span> component<span class="token operator">=</span><span class="token punctuation">{</span>ComponentC<span class="token punctuation">}</span> <span class="token operator">/</span>
                <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>match<span class="token punctuation">.</span>path<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/gotoD`</span></span><span class="token punctuation">}</span> component<span class="token operator">=</span><span class="token punctuation">{</span>ComponentD<span class="token punctuation">}</span> <span class="token operator">/</span>
                <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>match<span class="token punctuation">.</span>path<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/gotoE`</span></span><span class="token punctuation">}</span> component<span class="token operator">=</span><span class="token punctuation">{</span>ComponentE<span class="token punctuation">}</span> <span class="token operator">/</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>Switch
        <span class="token operator">&lt;</span><span class="token operator">/</span>div
    <span class="token punctuation">)</span><span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Layout
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h2 id="什么是错误边界"><a href="#什么是错误边界" aria-hidden="true" class="header-anchor">#</a> 什么是错误边界</h2> <p>在 React 中，我们通常有一个组件树。如果任何一个组件发生错误，它将破坏整个组件树。没有办法捕捉这些错误，我们可以用错误边界优雅地处理这些错误。</p> <p>错误边界有两个作用</p> <ul><li>如果发生错误，显示回退 UI</li> <li>记录错误</li></ul> <p>下面是<code>ErrorBoundary</code>类的一个例子。如果类实现了 <code>getDerivedStateFromError</code>或<code>componentDidCatch</code> 这两个生命周期方法的任何一下，，那么这个类就会成为<strong>ErrorBoundary</strong>。前者返回<code>{hasError: true}</code>来呈现回退 UI，后者用于记录错误。</p> <div class="language-javaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ErrorBoundary</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span> hasError<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">static</span> <span class="token function">getDerivedStateFromError</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Update state so the next render will show the fallback UI.</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span> hasError<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">componentDidCatch</span><span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> info</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// You can also log the error to an error reporting service</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Error::::'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>hasError<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// You can render any custom fallback UI</span>
        <span class="token keyword">return</span> <span class="token operator">&lt;</span>h1OOPS<span class="token operator">!</span><span class="token punctuation">.</span> <span class="token constant">WE</span> <span class="token constant">ARE</span> <span class="token constant">LOOKING</span> <span class="token constant">INTO</span> <span class="token constant">IT</span><span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>children<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p>以下是我们如何在其中一个组件中使用 ErrorBoundary。使用 ErrorBoundary 类包裹 <code>ToDoForm</code>和<code>ToDoList</code>。 如果这些组件中发生任何错误，我们会记录错误并显示回退 UI。</p> <div class="language-javaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'../App.css'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ToDoForm <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./todoform'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ToDolist <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./todolist'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ErrorBoundary <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../errorboundary'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Dashboard</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;dashboard&quot;</span>
        <span class="token operator">&lt;</span>ErrorBoundary
          <span class="token operator">&lt;</span>ToDoForm <span class="token operator">/</span>
          <span class="token operator">&lt;</span>ToDolist <span class="token operator">/</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>ErrorBoundary
      <span class="token operator">&lt;</span><span class="token operator">/</span>div
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="什么是-fragments"><a href="#什么是-fragments" aria-hidden="true" class="header-anchor">#</a> 什么是 Fragments</h2> <p>在 React 中，我们需要有一个父元素，同时从组件返回 React 元素。有时在 DOM 中添加额外的节点会很烦人。使用 <strong>Fragments</strong>，我们不需要在 DOM 中添加额外的节点。我们只需要用 <code>React.Fragment</code> 或才简写 <code>&lt;</code> 来包裹内容就行了。如下 所示：</p> <div class="language-javaScript line-numbers-mode"><pre class="language-javascript"><code> <span class="token comment">// Without Fragments</span>
<span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div
       <span class="token operator">&lt;</span>CompoentA <span class="token operator">/</span>
       <span class="token operator">&lt;</span>CompoentB <span class="token operator">/</span>
       <span class="token operator">&lt;</span>CompoentC <span class="token operator">/</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div
<span class="token punctuation">)</span>

<span class="token comment">// With Fragments</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>React<span class="token punctuation">.</span>Fragment
       <span class="token operator">&lt;</span>CompoentA <span class="token operator">/</span>
       <span class="token operator">&lt;</span>CompoentB <span class="token operator">/</span>
       <span class="token operator">&lt;</span>CompoentC <span class="token operator">/</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>React<span class="token punctuation">.</span>Fragment
  <span class="token punctuation">)</span>

  <span class="token comment">// shorthand notation Fragments</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>
       <span class="token operator">&lt;</span>CompoentA <span class="token operator">/</span>
       <span class="token operator">&lt;</span>CompoentB <span class="token operator">/</span>
       <span class="token operator">&lt;</span>CompoentC <span class="token operator">/</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>
  <span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h2 id="什么是传送门-portals"><a href="#什么是传送门-portals" aria-hidden="true" class="header-anchor">#</a> 什么是传送门(Portals)</h2> <p>默认情况下，所有子组件都在 UI 上呈现，具体取决于组件层次结构。Portal 提供了一种将子节点渲染到存在于父组件以外的 DOM 节点的优秀的方案。</p> <p>这里有一个例子。默认情况下，父组件在 DOM 层次结构中有子组件。</p> <p><img src="https://user-gold-cdn.xitu.io/2019/5/31/16b0cf1ee7c82f85?w=495&amp;h=510&amp;f=png&amp;s=57081" alt=""></p> <p>我们可以将 <code>children</code> 组件移出<code>parent</code> 组件并将其附加 <strong>id</strong> 为 <code>someid</code> 的 Dom 节点下。</p> <p>首先，获取 id 为 someid，我们在 constrcutorand 中创建一个元素 div，将 child 附加到 componentDidMount 中的 someRoot。 最后，我们在 ReactDOM.createPortal（this.props.childen），domnode 的帮助下将子节点传递给该特定 DOM 节点。</p> <p>首先，先获取 id 为<code>someid</code> DOM 元素，接着在构造函数中创建一个元素 div，在 <code>componentDidMount</code>方法中将 <code>someRoot</code> 放到 div 中 。 最后，通过
<code>ReactDOM.createPortal(this.props.childen), domnode)</code>将 <code>children</code> 传递到对应的节点下。</p> <div class="language-javaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> someRoot <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'someid'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Modal</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>el <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    someRoot<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>el<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    someRoot<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>el<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> ReactDOM<span class="token punctuation">.</span><span class="token function">createPortal</span><span class="token punctuation">(</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>children<span class="token punctuation">,</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>el<span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p><img src="https://user-gold-cdn.xitu.io/2019/5/31/16b0cf1f7e9a088c?w=498&amp;h=511&amp;f=png&amp;s=61282" alt=""></p> <h2 id="什么是上下文"><a href="#什么是上下文" aria-hidden="true" class="header-anchor">#</a> 什么是上下文</h2> <p>有时我们必须将<code>props</code> 传递给组件树，即使所有中间组件都不需要这些<code>props</code> 。上下文是一种传递<code>props</code> 的方法，而不用在每一层传递组件树。</p> <h2 id="什么是-hooks"><a href="#什么是-hooks" aria-hidden="true" class="header-anchor">#</a> 什么是 Hooks</h2> <p>Hooks 是 React 版本 16.8 中的新功能。 请记住，我们不能在函数组件中使用<code>state</code> ，因为它们不是类组件。<strong>Hooks 让我们在函数组件中可以使用<code>state</code> 和其他功能。</strong></p> <p>目前没有重大变化，我们不必放弃类组件。</p> <p>Hook 不会影响你对 React 概念的理解。 恰恰相反，Hook 为已知的 React 概念提供了更直接的 API：props， state，context，refs 以及生命周期。稍后我们将看到，Hook 还提供了一种更强大的方式来组合他们。</p> <p>我们可以使用一些钩子，例如 useState，useEffect，useContext，useReducer 等。</p> <p>下面是 Hooks 的基本规则</p> <ul><li>Hooks 应该在外层使用，不应该在循环，条件或嵌套函数中使用</li> <li>Hooks 应该只在函数组件中使用。</li></ul> <p>让我们看一个例子来理解 hooks。 这是一个函数组件，它采用<code>props</code>并在 UI 上显示这些<code>props</code>。 在<code>useState</code>钩子的帮助下，我们将这个函数组件转换为有状态组件。 首先，我们在第 5 行定义状态，这相当于</p> <div class="language-javaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
     name<span class="token punctuation">:</span><span class="token string">'myname'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">,</span> address<span class="token punctuation">:</span><span class="token string">'0000 one street'</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><code>useState</code>返回两个项，一个是<code>user</code>，另一个是<code>setUser</code>函数。 <code>user</code> 是一个可以在没有 <code>this</code>关键字的情况下直接使用的对象，<code>setUser</code>是一个可以用来设置用户点击第<code>21</code>行按钮的状态的函数，该函数等效于以下内容。</p> <div class="language-javaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'name changed'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>1  import React, { useState } from 'react';
2
3  export const UserDisplay = ({name, address, age}) = {
4
5    const [user, setUser] = useState({ name: 'myname', age: 10, address: '0000 onestreet' });
6
7    return (
8        &lt;
9            &lt;div
10                &lt;div class=&quot;label&quot;Name:&lt;/div
11                &lt;div{user.name}&lt;/div
12            &lt;/div
13            &lt;div
14                &lt;div class=&quot;label&quot;Address:&lt;/div
15                &lt;div{user.address}&lt;/div
16            &lt;/div
17            &lt;div
18              &lt;div class=&quot;label&quot;Age:&lt;/div
19                &lt;div{user.age}&lt;/div
20            &lt;/div
21            &lt;button onClick={() = setUser({name: 'name changed'})}
22                Click me
23            &lt;/button
24        &lt;/
25    )
26 }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h2 id="如何提高性能"><a href="#如何提高性能" aria-hidden="true" class="header-anchor">#</a> 如何提高性能</h2> <p>我们可以通过多种方式提高应用性能，以下这些比较重要：</p> <ul><li>适当地使用<code>shouldComponentUpdate</code>生命周期方法。 它避免了子组件的不必要的渲染。 如果树中有 100 个组件，则不重新渲染整个组件树来提高应用程序性能。</li> <li>使用<code>create-react-app</code>来构建项目，这会创建整个项目结构，并进行大量优化。</li> <li>不可变性是提高性能的关键。不要对数据进行修改，而是始终在现有集合的基础上创建新的集合，以保持尽可能少的复制，从而提高性能。</li> <li>在显示列表或表格时始终使用 <code>Keys</code>，这会让 React 的更新速度更快</li> <li>代码分离是将代码插入到单独的文件中，只加载模块或部分所需的文件的技术。</li></ul> <h2 id="如何在重新加载页面时保留数据"><a href="#如何在重新加载页面时保留数据" aria-hidden="true" class="header-anchor">#</a> 如何在重新加载页面时保留数据</h2> <p>单页应用程序首先在 DOM 中加载<code>index.html</code>，然后在用户浏览页面时加载内容，或者从同一<code>index.html</code>中的后端 API 获取任何数据。</p> <p>如果通过点击浏览器中的重新加载按钮重新加载页面<code>index.html</code>，整个 React 应用程序将重新加载，我们将丢失应用程序的状态。 如何保留应用状态？</p> <p>每当重新加载应用程序时，我们使用浏览器<code>localstorage</code>来保存应用程序的状态。我们将整个存储数据保存在<code>localstorage</code>中，每当有页面刷新或重新加载时，我们从<code>localstorage</code>加载状态。</p> <p><img src="https://user-gold-cdn.xitu.io/2019/5/31/16b0cf1fda8fcf4e?w=720&amp;h=508&amp;f=png&amp;s=136729" alt=""></p> <h2 id="如何在-react-进行-api-调用"><a href="#如何在-react-进行-api-调用" aria-hidden="true" class="header-anchor">#</a> 如何在 React 进行 API 调用</h2> <p>我们使用<code>redux-thunk</code>在 React 中调用 API。因为<code>reduce</code>是纯函数，所以没有副作用，比如调用 API。</p> <p>因此，我们必须使用<code>redux-thunk</code>从 action creators 那里进行 API 调用。Action creator 派发一个 action，将来自 API 的数据放入 action 的 <code>payload</code> 中。Reducers 接收我们在上面的<code>redux</code>循环中讨论的数据，其余的过程也是相同的。</p> <p><img src="https://user-gold-cdn.xitu.io/2019/5/31/16b0cf205424ab85?w=720&amp;h=489&amp;f=png&amp;s=126090" alt=""></p> <p>redux-thunk 是一个中间件。一旦它被引入到项目中，每次派发一个<code>action</code>时，都会通过<code>thunk</code>传递。如果它是一个函数，它只是等待函数处理并返回响应。如果它不是一个函数，它只是正常处理。</p> <p>这里有一个例子。<code>sendEmailAPI</code>是从组件中调用的函数，它接受一个数据并返回一个函数，其中<code>dispatch</code>作为参数。我们使用<code>redux-thunk</code>调用 API <code>apiservice</code>，并等待收到响应。一旦接收到响应，我们就使用<code>payload</code> 派发一个<code>action</code> 。</p> <div class="language-javaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> apiservice <span class="token keyword">from</span> <span class="token string">'../services/apiservice'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">sendEmail</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> type<span class="token punctuation">:</span><span class="token string">&quot;SEND_EMAIL&quot;</span><span class="token punctuation">,</span> payload<span class="token punctuation">:</span> data <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">sendEmailAPI</span><span class="token punctuation">(</span><span class="token parameter">email</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">dispatch</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> apiservice<span class="token punctuation">.</span><span class="token function">callAPI</span><span class="token punctuation">(</span>email<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>data <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">sendEmail</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="总结"><a href="#总结" aria-hidden="true" class="header-anchor">#</a> 总结</h2> <p>要想有把握的面试，必须充分了解上述所有主题。 即使你目前正在使用 React，理解这些概念也能增强你在职场中信心。</p> <p>原文：https://medium.com/bb-tutorials-and-thoughts/learn-enough-react-for-the-interview-f460a2fa3aeb</p></div> <!----> <footer class="page-edit"><!----> <!----></footer> <!----> </main> <div class="valine-wrapper" data-v-0162251c><div id="valine" data-v-0162251c></div></div></div> <div class="back-to-ceiling" style="right:1rem;bottom:3rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;background-color:rgba(231, 234, 241,.5);display:none;" data-v-d0bfeaa4 data-v-d0bfeaa4><i class="iconfont reco-up" data-v-d0bfeaa4></i></div></div></div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.2bf8967c.js" defer></script><script src="/assets/js/6.6e49420d.js" defer></script><script src="/assets/js/1.d8d864d8.js" defer></script><script src="/assets/js/13.9a71aaee.js" defer></script>
  </body>
</html>
